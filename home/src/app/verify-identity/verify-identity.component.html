<ng-template #verifyIdentity let-modal>
  <div class='flex flex-col justify-center items-center bg-black bg-opacity-60 fixed top-0 w-full h-full z-10'>
    <div class="flex-col justify-center items-center flex flex-1">
      <div class='grid grid-cols-11'>
        <div class='col-span-12 sm:col-span-7 sm:col-start-3 lg:col-span-5 lg:col-start-4 xl:col-span-3 xl:col-start-5 bg-white p-10 rounded-lg text-center'>
          <div *ngIf="!isDone" class="px-4 md:px-10">
            <p class="text-xl font-fs-bold">ðŸ‘‹ Â¡Bienvenid@!</p>
            <div *ngIf="formDataUser.invalid">
              <p class="font-fs-bold mt-8 mb-4">Por favor completa los <br> siguientes datos</p>
              <p class="text-sm text-neutral-800">
                Agrega tu nÃºmero de identificaciÃ³n para que puedas redimir tus puntos en las cervecerias del BBC.
              </p>
            </div>
            <p *ngIf="!formDataUser.invalid && !isDocumentValid" class="text-base text-primary-500 my-12">
              Verifica que el nÃºmero de documento ingresado estÃ© correcto
            </p>
            <div *ngIf="isDocumentValid" class="text-center">
              <img src="assets/images/tap-it_black-orange.svg" alt="Logo Tap It" width="100" class="mt-8 mx-auto"/>
              <img src="assets/images/verify/img-verify.png" alt="Verify Tap it" width="150" class="my-4 mx-auto"/>
              <p class="text-lg font-fs-bold mt-8 mb-4">Â¡Bien hecho!</p>
              <p class="text-sm text-neutral-800">
                Tu documento de identidad fue aÃ±adido exitosamente.
              </p>
              <p class="text-sm text-neutral-700 my-4">
                Ahora puedes redimir y acumular puntos <span class="font-bold">Tap It</span> en las cervecerias BBC a nivel nacional. <a href="#" class="text-primary-500">Aplican T&C</a>
              </p>
            </div>
            <form *ngIf="isValidating && !isDocumentValid" [formGroup]="formDataUser" (ngSubmit)="updateDataUser()" autocomplete="off">
                <div class="flex flex-col my-8">
                    <label for="type_document" class="text-neutral-800 font-bold text-left">Tipo de documento</label>
                    <label class="w-full select__box">
                        <select 
                            formControlName="type_document"
                            id="type_document" 
                            class="w-full text-neutral-700 mt-3 p-3 rounded-lg border border-black"
                        >
                            <option class="text-black" value="" disabled selected>Selecciona una opciÃ³n</option>
                            <option class="text-black" value="cc">CÃ©dula de ciudadania</option>
                        </select>
                    </label>
                    <div class="block text-left" *ngFor="let validation of validation_messages.type_document">
                        <div *ngIf="formDataUser.get('type_document').hasError(validation.type) && (formDataUser.get('type_document').dirty || formDataUser.get('type_document').touched)">
                            <span class="text-primary-500 text-xs">
                                <img src="assets/images/verify/exclamation-triangle.svg" width="18" height="18" class="inline-block mr-2"/>{{ validation.message }}
                            </span>
                        </div>
                    </div>
                </div>
                <div class="flex flex-col my-8">
                    <label for="document" class="text-neutral-800 font-bold text-left">NÃºmero de documento</label>
                    <input 
                        formControlName="document"
                        type="text" 
                        id="document" 
                        name="document" 
                        minlength="4"
                        maxlength="12"
                        pattern="[0-9]*"
                        placeholder="Ingrese un nÃºmero" 
                        autocomplete="off" 
                        class="mt-3 py-3 px-4 rounded-lg border"
                    />
                    <div class="block text-left" *ngFor="let validation of validation_messages.document">
                        <div *ngIf="formDataUser.get('document').hasError(validation.type) && (formDataUser.get('document').dirty || formDataUser.get('document').touched)">
                            <span class="text-primary-500 text-xs">
                                <img src="assets/images/verify/exclamation-triangle.svg" width="18" height="18" class="inline-block mr-2"/>{{ validation.message }}
                            </span>
                        </div>
                    </div>
                </div>
                <div class="">
                    <button [disabled]="formDataUser.invalid" type="submit" class="uppercase bg-primary-500 px-4 py-3 rounded-xl text-white w-full mt-4">
                        Continuar
                    </button>
                </div>
            </form>
            <button *ngIf="isDocumentValid" type="button" class="uppercase bg-primary-500 px-4 py-3 rounded-xl text-white w-full mt-4" (click)="isDone=true">
                Continuar
            </button>
          </div>
          <div *ngIf="isDone" class="px-4 md:px-10">
            <p class="text-xl font-fs-bold">ðŸ‘‹ Â¡Bienvenid@!</p>
            <img src="assets/images/tap-it_black-orange.svg" alt="Logo Tap It" width="100" class="mt-8 mx-auto"/>
            <p class="text-xl font-fs-bold mt-8 mb-4">Â¡No pares de <span class="text-primary-500">ganar puntos!</span></p>
            <div class="grid grid-cols-10 gap-4 text-white">
                <div class="col-span-2">
                    <p class="font-bold text-2xl text-primary-500">1.</p>
                </div>
                <div class="col-span-8 text-left">
                    <p class="mt-2 font-light text-neutral-800">
                      <span class="font-bold text-black">Dile</span> al meser@ que quieres redimir
                      o acumular puntos <span class="font-bold text-black">Tap It</span>
                    </p>
                </div>
            </div>
            <div class="grid grid-cols-10 gap-4 text-white">
                <div class="col-span-2">
                    <p class="font-bold text-2xl text-primary-500">2.</p>
                </div>
                <div class="col-span-8 text-left">
                    <p class="mt-2 font-light text-neutral-800">
                      Te <span class="font-bold text-black">solicitarÃ¡n</span> el nÃºmero de identificaciÃ³n que <span class="font-bold text-black">registraste</span>
                    </p>
                </div>
            </div>
            <div class="grid grid-cols-10 gap-4 text-white">
                <div class="col-span-2">
                    <p class="font-bold text-2xl text-primary-500">3.</p>
                </div>
                <div class="col-span-8 text-left">
                    <p class="mt-2 font-light text-neutral-800">
                      La redenciÃ³n o acumulaciÃ³n se verÃ¡n reflejadas en la <span class="font-bold text-black">factura de compra</span>
                    </p>
                </div>
            </div>
            <div class="grid grid-cols-10 gap-4 text-white mb-6">
                <div class="col-span-2">
                    <p class="font-bold text-2xl text-primary-500">4.</p>
                </div>
                <div class="col-span-8 text-left">
                    <p class="mt-2 font-light text-neutral-800">
                      Si quieres ver mÃ¡s detalles, puedes ingresar al <span class="font-bold text-black">Historial</span> en tu perfil
                    </p>
                </div>
            </div>
            <button type="button" class="uppercase bg-primary-500 px-4 py-3 rounded-xl text-white w-full mt-4" (click)="closeModal()">
                Finalizar
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>
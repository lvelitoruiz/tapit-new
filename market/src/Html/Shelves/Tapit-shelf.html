#set($id = $product.Id)
#set($idSku = $product.productVariantId)
#set($uri = $product.Uri)
#set($escapedName = $product.HtmlEscapedName)

<div class="product-box relative p-4 pb-4" data-pi="$id">
  <div class="product relative bg-white p-2 rounded-sm border border-solid border-neutral-300">
    <div class="absolute text-white bg-complementary-2-500 px-4 py-2 font-bold discount-tag hidden" id="discount-tag"
         style="left: -8px; top: -8px">
      <p class="title m-0" id="percentage">0%</p>
      <p class="description">DTO.</p>
      <svg class="absolute" height="5" style="width: 12px;height: 12px; left: 16px;bottom: -10px;"
           viewBox="0 0 6 5"
           width="6">
        <path d="M0 0H6V3.58579C6 4.47669 4.92286 4.92286 4.29289 4.29289L0 0Z" fill="#D20F28"/>
      </svg>
    </div>

    #if ($product.IsInStock)
    <div class="inline-block image-wrapper">
      <a class="product-image" href="$uri" title="$escapedName">
        $product.GetImageTag(2)
      </a>
    </div>
    #else
    <div class="inline-block image-wrapper gray-scale">
      <a class="product-image" title="$escapedName">
        $product.GetImageTag(2)
      </a>
    </div>
    #end

    <div class="product-name text-left text-xs">
      $product.Name
    </div>

    #if (!$product.IsInStock)
    <p class="mb-2" style="height: 49px">
        <span class="sold-out-tag text-black inline-block bg-danger-500 p-1 font-bold rounded-md">
            Agotado
        </span>
    </p>
    #else
        #if ($product.HasBestPrice)
        <p class="m-0 text-sm font-bold mb-1">$product.BestPrice.replace(',00', '') <span
        class="text-xs text-neutral-800 list-price">$product.ListPrice.replace(',00', '')</span>
        </p>
        #else
        <p class="m-0 text-sm font-bold mb-1">$product.ListPrice.replace(',00', '')</p>
        #end

        <div class="m-0 inline-block text-xs font-bold bg-neutral-200 rounded mb-2">
        <div class="flex items-center justify-start">
            <svg width="6" height="6" viewBox="0 0 6 6">
            <rect width="6" height="6" rx="3" fill="#FF5005"/>
            </svg>
            <span class="product-points mx-2"></span> Pts
        </div>
        </div>
    #end

    #if ($product.IsInStock)
    <a class="go-to-product app-button cursor-pointer bg-primary-500 text-white text-sm text-center block hover:bg-primary-300"
       href="$uri">AGREGAR</a>
    #else
    <button class="app-button bg-primary-500 text-white text-sm text-center block w-full cursor-default" disabled>
      AGREGAR
    </button>
    #end
  </div>
</div>

<div class="legacy-container" fxLayout="column" fxLayoutAlign="center stretch" fxLayoutGap="50px">

  <div class="legacy-title" fxLayout="row" fxLayoutAlign="center center">
    Registrarse
  </div>

  <div class="content" fxLayout="row" fxLayout.sm="column" fxLayout.xs="column" fxLayoutAlign="center center"
       fxLayoutGap="30px">
    <div class="item">
      <form (ngSubmit)="onSubmit()" [formGroup]="signUpForm" class="form" fxLayout="column" fxLayoutGap="20px">

        <!-- First name -->
        <mat-form-field>
          <input formControlName="firstName" matInput placeholder="Nombre" required type="text">
          <mat-error
            *ngIf="signUpForm.get('firstName').hasError('required')">{{ validationMessages.firstName.required }}</mat-error>
          <mat-error
            *ngIf="signUpForm.get('firstName').hasError('minlength')">{{ validationMessages.firstName.minlength }}</mat-error>
        </mat-form-field>

        <!-- Last name -->
        <mat-form-field>
          <input formControlName="lastName" matInput placeholder="Apellido" required type="text">
          <mat-error
            *ngIf="signUpForm.get('lastName').hasError('required')">{{ validationMessages.lastName.required }}</mat-error>
          <mat-error
            *ngIf="signUpForm.get('lastName').hasError('minlength')">{{ validationMessages.lastName.minlength }}</mat-error>
        </mat-form-field>

        <!-- Email -->
        <mat-form-field>
          <input formControlName="email" matInput placeholder="Email" required type="text">
          <mat-error
            *ngIf="signUpForm.get('email').hasError('required')">{{ validationMessages.email.required }}</mat-error>
          <mat-error
            *ngIf="signUpForm.get('email').hasError('email') && !signUpForm.get('email').hasError('required')">{{ validationMessages.email.email }}</mat-error>
        </mat-form-field>

        <!-- Password -->
        <mat-form-field>
          <input formControlName="password" matInput placeholder="Contraseña" required type="password">
          <mat-error
            *ngIf="signUpForm.get('password').hasError('required')">{{ validationMessages.password.required }}</mat-error>
          <mat-error
            *ngIf="signUpForm.get('password').hasError('minlength')">{{ validationMessages.password.minlength }}</mat-error>
        </mat-form-field>

        <!-- Phone -->
        <mat-form-field>
          <input formControlName="phone" matInput placeholder="Número de celular" required type="tel">
          <mat-error
            *ngIf="signUpForm.get('phone').hasError('required')">{{ validationMessages.phone.required }}</mat-error>
          <mat-error
            *ngIf="signUpForm.get('phone').hasError('minlength')">{{ validationMessages.phone.minlength }}</mat-error>
          <mat-error
            *ngIf="signUpForm.get('phone').hasError('pattern')">{{ validationMessages.phone.pattern }}</mat-error>
        </mat-form-field>

        <!-- Birthdate -->
        <mat-form-field>
          <input (click)="picker.open()" [matDatepicker]="picker" formControlName="birthDate" matInput placeholder="Fecha de nacimiento"
                 readonly required>
          <mat-datepicker-toggle [for]="picker" matSuffix></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <mat-error
            *ngIf="signUpForm.get('birthDate').hasError('required')">{{ validationMessages.birthDate.required }}</mat-error>
          <mat-error
            *ngIf="signUpForm.get('birthDate').hasError('underAge') && !signUpForm.get('birthDate').hasError('required')">{{ validationMessages.birthDate.underAge }}</mat-error>
        </mat-form-field>

        <!-- Referral code -->
        <mat-form-field>
          <input formControlName="referralCode" matInput placeholder="Código de referido" type="text">
        </mat-form-field>

        <!-- Terms and conditions -->
        <div>Al crear una cuenta accedes a nuestros <a href="https://home.gettap.it/terminos" id="terms" target="blank">términos</a>
        </div>

        <!-- Create account button -->
        <button [disabled]="signUpForm.invalid"
                class="px-8 py-4 bg-orange-500 font-bold text-white rounded-xl inline-block mx-auto focus:outline-none align-bottom"
                color="primary"
                type="submit">
          CREAR CUENTA
        </button>

        <!-- Login link -->
        <div fxFlexAlign="center">Si ya tienes una cuenta <a routerLink="/login">Ingresa</a></div>
      </form>
    </div>

    <!-- Right image -->
    <img class="item" src="../../../assets/images/signup.svg">
  </div>
</div>
